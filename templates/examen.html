<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen {{ 'sin revisi√≥n' if modo == 'sin-revision' else 'con revisi√≥n' }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-nav">
                <a href="/" class="btn-volver">‚Üê Volver</a>
                <h1>Examen {{ 'sin revisi√≥n' if modo == 'sin-revision' else 'con revisi√≥n' }}</h1>
                <div class="progreso-contador">
                    <span id="pregunta-actual">1</span> / <span id="total-preguntas">10</span>
                </div>
            </div>
        </header>

        <main id="examen-container">
            <!-- Loader mientras cargan las preguntas -->
            <div id="loader" class="loader">
                <div class="spinner"></div>
                <p>Cargando examen...</p>
            </div>

            <!-- Contenedor de preguntas (se llena din√°micamente) -->
            <div id="preguntas-container" style="display: none;"></div>

            <!-- Feedback inmediato (solo para modo con revisi√≥n) -->
            <div id="feedback-container" style="display: none;"></div>

            <!-- Navegaci√≥n -->
            <div id="navegacion" class="navegacion" style="display: none;">
                <button id="btn-anterior" class="btn btn-secondary">‚Üê Anterior</button>
                <button id="btn-responder" class="btn btn-primary" style="display: none;">Comprobar respuesta</button>
                <button id="btn-siguiente" class="btn btn-primary">Siguiente ‚Üí</button>
                <button id="btn-finalizar" class="btn btn-success" style="display: none;">‚úì Finalizar examen</button>
            </div>
        </main>

        <!-- Modal de resultados -->
        <div id="modal-resultados" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üìä Resultados del examen</h2>
                </div>
                <div class="modal-body" id="resultados-body">
                    <!-- Se llena din√°micamente -->
                </div>
                <div class="modal-footer">
                    <button id="btn-ver-respuestas" class="btn btn-primary">Ver respuestas detalladas</button>
                    <a href="/" class="btn btn-secondary">Volver a inicio</a>
                    <button id="btn-reintentar" class="btn btn-success">Reintentar</button>
                </div>
            </div>
        </div>

        <!-- Vista de correcci√≥n detallada -->
        <div id="vista-correccion" style="display: none;">
            <div class="correccion-header">
                <button id="btn-cerrar-correccion" class="btn btn-secondary">‚Üê Volver a resultados</button>
                <h2>Revisi√≥n detallada</h2>
            </div>
            <div id="correccion-container"></div>
        </div>
    </div>

    <script>
        // Configuraci√≥n del examen
        const MODO_EXAMEN = '{{ modo }}';
    </script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
